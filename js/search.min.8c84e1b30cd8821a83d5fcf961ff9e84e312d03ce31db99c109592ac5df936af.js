(function(){const r="/explorer-hugo-theme/js/search-data.min.2411ae5ee0a2733e41c207e627c903f38511c948dd3fde1ea27ed59259cdb420.json",e=document.querySelector("#search-input"),n=document.querySelector("#search-results");if(!e)return;e.addEventListener("focus",o),e.addEventListener("keyup",s),document.addEventListener("keypress",i);function i(t){if(t.target.value!==void 0)return;if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!a(n))return;e.focus(),t.preventDefault()}function a(t){const n=e.getAttribute("data-hotkeys")||'';return n.indexOf(t)>=0}function o(){e.removeEventListener("focus",o),e.required=!0,fetch(r).then(e=>e.json()).then(e=>{window.bookSearchIndex=new FlexSearch.Document({tokenize:"forward",document:{id:"id",store:["title","href","tags","preview"],index:["title","tags","content"]}}),e.forEach(e=>{window.bookSearchIndex.add(e)})}).then(()=>e.required=!1).then(s)}function s(){for(;n.firstChild;)n.removeChild(n.firstChild);if(!e.value)return;let s=window.bookSearchIndex.search(e.value,{limit:10,enrich:!0});const t=new Map;s.forEach(e=>{e.result.forEach(e=>{t.set(e.id,e.doc)})}),t.forEach(e=>{n.appendChild(c(e))})}function c(n){const a=t("<li></li>"),s=t("<a></a>"),e=t("<div></div>"),o=t("<span></span>"),i=t("<span></span>");return s.href=n.href,o.textContent=n.title,i.textContent=n.preview,e.classList.add("item-preview"),o.classList.add("item-preview-title"),i.classList.add("item-preview-content"),e.appendChild(o),e.appendChild(t("<br>")),e.appendChild(i),s.appendChild(e),a.appendChild(s),a}function t(t){const e=document.createElement("div");return e.innerHTML=t,e.firstChild}})()