(function(){const a=10,v=40,g=100,f=50,c=[.2,3],r="/explorer-hugo-theme/js/graph-data.min.6e0eab589b7e62facb0b34d9700d359455b76139105ba405b0619188e17238bf.json",e=document.getElementById("graph-wrapper");let n=-1,t={};e&&l();function l(){fetch(r).then(e=>e.json()).then(e=>{let t=e.nodes,n=e.edges;d(t,n)})}function d(r,l){const f=document.createElementNS("http://www.w3.org/2000/svg","svg");e.appendChild(f),r.forEach(e=>{p(e.path)&&(n=e.id),t[e.id]=b(e)});const o=e.clientWidth,i=e.clientHeight,a=d3.select("svg"),s=a.append("g").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",`0 0 ${o} ${i}`),g=s.append("g").attr("class","links").selectAll(".links"),v=s.append("g").attr("class","nodes").selectAll(".nodes"),j=s.append("g").attr("class","labels").selectAll(".labels"),y=d3.forceSimulation(r).force("charge",d3.forceManyBody().strength(-4e3)).force("link",d3.forceLink(l).id(e=>e.id)).force("center",d3.forceCenter(o/2,i/2)).force("forceX",d3.forceX().x(o/2)).force("forceY",d3.forceY().y(i/2)).force("collision",d3.forceCollide().radius(80)),d=d3.zoom().scaleExtent(c).on("zoom",function(e){m(e.transform,s)});a.call(d),h(r,l,y,v,g,j),u(d,a)}function u(t,e){let n=Number(e.attr("width")),s=Number(e.attr("height"));e.call(t.transform,d3.zoomIdentity.translate(n/2,s/2).scale(.6))}function h(h,u,m,c,l,d){c.exit().remove(),l.exit().remove(),d.exit().remove();let e=c.data(h,e=>e.id).enter().append("circle").attr("r",e=>t[e.id]).attr("active",e=>e.id==n||null).merge(c),r=l.data(u,e=>`${e.source.id}-${e.target.id}`).enter().append("line").merge(l),a=d.data(h,e=>e.label).enter().append("text").text(e=>j(e.label.replace(/_*/g,""),f)).attr("active",e=>e.id==n||null).merge(d);e.on("click",i).on("mouseover",function(n,t){o(t,u,e,r,a)}).on("mouseout",function(){s(e,r,a)}),a.on("click",i).on("mouseover",function(n,t){o(t,u,e,r,a)}).on("mouseout",function(){s(e,r,a)}),d3.range(g).forEach(m.tick),e.attr("cx",e=>e.x).attr("cy",e=>e.y),a.attr("x",e=>e.x).attr("y",e=>e.y-t[e.id]-10),r.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y)}function m(e,t){t.attr("transform",e)}function i(t,e){window.location=e.path}function p(e){return window.location.pathname.includes(e)}function o(e,s,o,i,a){const t=new Set;s.filter(t=>t.target.id==e.id||t.source.id==e.id).forEach(e=>{t.add(e.target.id),t.add(e.source.id)});const n=n=>n.id!==e.id&&!t.has(n.id)?"unfocus":"";o.attr("class",n),a.attr("class",n),i.attr("class",t=>t.source.id!=e.id&&t.target.id!=e.id?"unfocus":"")}function s(e,t,n){e.attr("class",""),t.attr("class",""),n.attr("class","")}function b(e){let t=10*Math.sqrt(e.number_neighbours+1);return Math.min(Math.max(t,a),v)}function j(e,t,n=" "){return e.length<=t?e:e.substr(0,e.lastIndexOf(n,t))+"..."}})()